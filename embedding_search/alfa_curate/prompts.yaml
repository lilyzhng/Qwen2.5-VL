# Task strategies define how groups of prompts are executed
tasks:
  obstruction:
    priority: 1                    # Runs first to separate data
    scoring_mode: "independent"    # Each prompt retrieves independently
    separate_dataset: true         # Separate this data from subsequent tasks
  
  pca:
    priority: 2                    # Runs second
    scoring_mode: "softmax"        # Prompts compete for best match per slice
    separate_dataset: false        # Include in general results pool

# Scenarios with text prompts defined
scenarios:
  # Task: obstruction (priority=1, runs first, data partitioned from subsequent tasks)
  - task: "obstruction"
    prompt: "camera lens obstructed by dirt or water"
    threshold: 0.30
    top_k: 500

  - task: "obstruction"
    prompt: "camera obstruction at daytime"
    threshold: 0.30
    top_k: 500

  # Task: pca (priority=2, runs second, uses softmax for multiple prompts)
  - task: "pca"
    prompt: "pedestrians crossing street"
    threshold: 0.20
    top_k: 200

  - task: "pca"
    prompt: "pedestrians crossing at intersection"
    threshold: 0.20
    top_k: 200

  - task: "pca"
    prompt: "vehicle turning at an intersection"
    threshold: 0.20
    top_k: 200

  - task: "pca"
    prompt: "motorcyclist near ego vehicle at night"
    threshold: 0.20
    top_k: 200